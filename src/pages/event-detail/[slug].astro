---
import Layout from '../../layouts/Layout.astro';
import Navbar from '../../components/Navbar.astro';
import Footer from '../../components/Footer.astro';
import { Fragment } from 'astro/jsx-runtime';
import { load } from 'js-yaml';

// Simple markdown to HTML converter for headings and paragraphs
function markdownToHtml(markdown: string): string {
  if (!markdown) return '';
  
  let html = markdown;
  
  // Convert ## headings to h4 (must be at start of line)
  html = html.replace(/^## (.+)$/gm, '<h4 class="mt-5 mb-3">$1</h4>');
  
  // Split by double newlines to get paragraphs
  const paragraphs = html.split(/\n\n+/);
  
  html = paragraphs.map(para => {
    para = para.trim();
    if (!para) return '';
    
    // If already converted to h4, return as is
    if (para.startsWith('<h4')) return para;
    
    // If it's a heading that wasn't converted, convert it
    if (para.startsWith('## ')) {
      return para.replace(/^## (.+)$/, '<h4 class="mt-5 mb-3">$1</h4>');
    }
    
    // Regular paragraph
    // Replace single newlines with <br> for line breaks within paragraph
    para = para.replace(/\n/g, '<br>');
    return `<p class="mb-3">${para}</p>`;
  }).join('\n');
  
  return html;
}

// Helper function to parse frontmatter
function parseFrontmatter(content: string) {
  const frontmatterRegex = /^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/;
  const match = content.match(frontmatterRegex);
  
  if (!match) {
    return { data: {}, content: content.trim() };
  }
  
  const yamlContent = match[1];
  const bodyContent = match[2];
  
  try {
    const data = load(yamlContent) as any;
    return { data: data || {}, content: bodyContent.trim() };
  } catch (error) {
    return { data: {}, content: bodyContent.trim() };
  }
}

// Helper function to fetch file from GitHub
async function fetchFromGitHub(path: string): Promise<string | null> {
  try {
    const repo = 'khai-nguyen-dinh/gamegeek';
    const branch = 'main';
    const url = `https://raw.githubusercontent.com/${repo}/${branch}/${path}`;
    const response = await fetch(url);
    if (response.ok) {
      return await response.text();
    }
    return null;
  } catch (error) {
    console.error(`Error fetching from GitHub: ${path}`, error);
    return null;
  }
}

// Helper function to list files in a GitHub directory
async function listGitHubFiles(path: string): Promise<string[]> {
  try {
    const repo = 'khai-nguyen-dinh/gamegeek';
    const branch = 'main';
    const url = `https://api.github.com/repos/${repo}/contents/${path}?ref=${branch}`;
    const response = await fetch(url);
    if (response.ok) {
      const files = await response.json();
      if (Array.isArray(files)) {
        return files
          .filter((file: any) => file.type === 'file')
          .map((file: any) => file.name);
      }
    }
    return [];
  } catch (error) {
    console.error(`Error listing GitHub files: ${path}`, error);
    return [];
  }
}

// Helper function to read mdoc file from GitHub
async function readMdocFile(slug: string) {
  if (!slug) return null;
  
  const fileContent = await fetchFromGitHub(`src/keystatic/events/${slug}.mdoc`);
  
  if (!fileContent) return null;
  
  const { data, content: fileContentBody } = parseFrontmatter(fileContent);
  
  // Ensure we have valid data
  if (!data || Object.keys(data).length === 0) {
    return null;
  }
  
  // Extract first paragraph as description, rest as content
  const firstParagraph = fileContentBody.split('\n\n')[0] || fileContentBody.substring(0, 200) || '';
  const fullContent = fileContentBody || '';
  
  return {
    ...data,
    description: firstParagraph,
    content: fullContent,
    slug: slug
  };
}

// Helper function to get all events
async function getAllEvents() {
  try {
    const eventModules = import.meta.glob('../../keystatic/events/*.mdoc?raw', { eager: true });
    const moduleEntries = Object.entries(eventModules);
    
    if (moduleEntries.length > 0) {
      const localEvents = moduleEntries.map((entry) => {
        const path = entry[0];
        const module = entry[1];
        const slug = path.split('/').pop()?.replace('.mdoc?raw', '') || '';
        
        let content = '';
        if (typeof module === 'string') {
          content = module;
        } else if (module && typeof module === 'object' && 'default' in module) {
          content = typeof module.default === 'string' ? module.default : '';
        }
        
        if (!content) {
          return null;
        }
        
        const parsed = parseFrontmatter(content);
        const data = parsed.data;
        const bodyContent = parsed.content;
        
        if (!data || Object.keys(data).length === 0) {
          return null;
        }
        
        // Extract first paragraph as description, rest as content
        const firstParagraph = bodyContent.split('\n\n')[0] || bodyContent.substring(0, 200) || '';
        const fullContent = bodyContent || '';
        
        return {
          ...data,
          description: firstParagraph,
          content: fullContent,
          slug: slug
        };
      }).filter(e => e !== null);
      
      if (localEvents.length > 0) {
        return localEvents;
      }
    }
  } catch (error) {
    console.log('Could not load events from local filesystem:', error);
  }
  
  // Fallback to GitHub API
  try {
    const files = await listGitHubFiles('src/keystatic/events');
    const mdocFiles = files.filter(f => f.endsWith('.mdoc'));
    
    const events = await Promise.all(
      mdocFiles.map(async (file) => {
        const slug = file.replace('.mdoc', '');
        const event = await readMdocFile(slug);
        if (event) {
          event.slug = slug;
        }
        return event;
      })
    );
    
    const validEvents = events.filter(e => e !== null);
    if (validEvents.length > 0) {
      return validEvents;
    }
  } catch (error) {
    console.log('Could not load events from GitHub:', error);
  }
  
  return [];
}

// Get the slug from the URL params
export async function getStaticPaths() {
  const allEvents = await getAllEvents();
  
  // Sample event data with full content (for events that have detailed content)
  const eventsWithContent = [
    {
      slug: 'vietnam-game-connect-2025',
      title: 'Vietnam Game Connect 2025',
      date: 'July 16, 2025',
      time: '08:15 - 20:00',
      location: 'Meliá Hotels, 44 Ly Thuong Kiet Street, Tran Hung Đao, Hoan Kiem, Hanoi, Vietnam',
      speakers: 19,
      image: '/images/1748226528-4814542829448199111382598292933028175524248n.jpg',
      thumb: '/images/1748226528-4814542829448199111382598292933028175524248n.jpg',
      thumb2: '/images/blogThumb1_1.jpg',
      thumb3: '/images/blogThumb1_2.jpg',
      thumb4: '/images/blogThumb1_1.jpg',
      breadcrumbBg: '/images/1748226528-4814542829448199111382598292933028175524248n.jpg',
      sector: 'Gaming Industry',
      category: 'Expo-Conference',
      type: 'Event',
      description: 'Vietnam Game Connect (VGC) is a day of expo-conference that unites Vietnamese game and app developers under one roof to connect and share knowledge.',
      content: `
        <p class="mb-3 wow fadeInUp" data-wow-delay=".6s">At Vietnam Game Connect 2025, a Google representative confirmed that the Vietnam's game industry achieved 6.7 billion global downloads in 2024, the highest of any country last year. With this, Vietnam officially surpassed China to become the world's top exporter of mobile games.</p>
        
        <p class="mb-3 wow fadeInUp" data-wow-delay=".8s">Far from merely following global trends, Vietnamese studios are now competing on the world stage. One standout success is Screwdom by iKame, which has gained traction in the puzzle genre. According to Appmagic, players now spend over 100 minutes per day on the game, outpacing global staples like Candy Crush (~66 minutes) and Royal Match (~88 minutes).</p>
        
        <p class="mb-3 wow fadeInUp" data-wow-delay="1s">The scoreboard looks good, but the monetization gap tells another story. Vietnam's average revenue per daily active user (excluding IAA) stands at just $0.06, nearly 10 times lower than the global benchmark of $0.70. Clearly, generating installs is only part of the equation. Local studios still fall short when it comes to building high LTV products and driving stronger IAP monetization.</p>
        
        <p class="mb-3 wow fadeInUp" data-wow-delay="1.2s">To complement this local momentum, VGC 2025 also brought in a global perspective. GameGeek curated a lineup of experts from both Eastern and Western markets, featuring veterans with backgrounds from studios like King, Rollic, Ludus, and Supercent. These voices are helping guide local developers toward deeper design strategies and planning for long-term monetization, moving the focus from downloads to sustainable revenue growth.</p>
        
        <h4 class="mt-5 mb-3 wow fadeInUp" data-wow-delay=".4s">Vietnam Game Connect 2025: Building a Global-First Game Industry</h4>
        
        <p class="mb-3 wow fadeInUp" data-wow-delay=".6s">This year, VGC welcomed more than 700 attendees, including Vietnamese studios and international platforms like AWS, Google, TikTok, and AppLovin. Through strategic discussions, attendees explored how data, AI, and user behavior are shaping mobile gaming's next wave.</p>
        
        <p class="mb-3 wow fadeInUp" data-wow-delay=".8s">A key theme echoed throughout the event: competing at a global scale takes more than just good game design. Reaching hundreds of millions of downloads requires efficient, cost-effective systems, with the goal of automated pipelines over manual work, AI to optimize user acquisition and long-term decision making, this can be done by clean data collection, accurate interpretation, and time to build an inhouse backend.</p>
        
        <p class="mb-3 wow fadeInUp" data-wow-delay="1s">A prime example came from South Korea's Supercent, developers of the 130‑million‑download hit Snake Clash. Their team shared how they ran 72 rounds of internal testing, which helped reduce CPI from $1.30 to $0.50 and raise day‑1 retention from 35% to 57%. They built and used a proprietary AI-powered backend, noting that off‑the‑shelf AI tools simply didn't offer the necessary precision at scale.</p>
        
        <p class="mb-3 wow fadeInUp" data-wow-delay="1.2s">Vietnam's top studios are already catching up. iKame demonstrated their in-house BI platform, which leverages gameplay data from the first three days post-launch to predict ROAS for 30-, 180-, and even 365-day spans. Their four-layer tech stack—built on Google Cloud, Looker, Python, Airflow, and integrated app/event data—delivers real-time insights to internal dashboards and APIs. Teams no longer wait weeks for results; decisions can be made today.</p>
        
        <p class="mb-3 wow fadeInUp" data-wow-delay="1.4s">Still, this level of technical infrastructure currently exists within the top 1% of studios. For Vietnam to build an even stronger ecosystem, such systems must become industry-wide. VGC 2025 not only highlighted success stories, it made those systems and tools visible—equipping more studios to take the next step.</p>
        
        <h4 class="mt-5 mb-3 wow fadeInUp" data-wow-delay=".4s">GameGeek: Backing Vietnam's Developers at Home and Abroad</h4>
        
        <p class="mb-3 wow fadeInUp" data-wow-delay=".6s">GameGeek is dedicated to elevating the Vietnamese gaming ecosystem by forging active ties with global hubs like Pocket Gamer (UK), Mobidictum (Turkey), and Gamescom Asia. By engaging with these communities and events, Vietnam is positioning itself as a resource-rich and opportunity-driven destination in the global game market.</p>
        
        <p class="mb-3 wow fadeInUp" data-wow-delay=".8s">As the host of VGC, GameGeek is committed to supporting developers who are working with grit, curiosity, and the drive to improve. The mission is straightforward: create meaningful connections, share strategic insights, and help local teams access the knowledge, tools, and venture capital to turn ambition into impact.</p>
        
        <p class="mb-3 wow fadeInUp" data-wow-delay="1s">But this mission doesn't stop at VGC. GameGeek is heading to Chinajoy—one of the world's largest game expos—to continue building bridges for Vietnamese developers, not through hype, but through consistency, context, and collaboration.</p>
      `,
      speakersList: [
        { name: 'Jihoon Boon (Johnny)', title: 'Lead of New Business SUPERCENT, former COO 111%' },
        { name: 'Gokhan', title: 'Ex-Rollic (Zynga), Ludus' },
        { name: 'Bruce', title: 'Principal for New Business Acquisitions (SEA & AUNZ) at Google' },
        { name: 'Summer Liu', title: 'CMO at SocialPeta' },
        { name: 'HAWKIN PHAM', title: 'Director at VNGGames' },
        { name: 'LE MINH HIEP', title: 'Product Manager at ABI Game Studio' },
        { name: 'TUAN HOANG', title: 'Head of Vietnam at AppLovin' },
        { name: 'COOPER PI', title: 'Global Business Head at TopOn' },
        { name: 'MAX (TUAN LE)', title: 'Gaming & Apps Vertical Lead at TikTok Vietnam' },
        { name: 'BRIAN TIEN', title: 'Country Manager at Bidroid Vietnam' },
        { name: 'KHAI LE', title: 'Mobile Growth Strategy Leader at Mintegral' },
        { name: 'HUY NGUYEN', title: 'Account Manager at Airbridge' },
        { name: 'EDEN LIU', title: 'Head of Global Business at BIGO Ads' },
        { name: 'ZEAL TAI', title: 'Business Development Manager, APAC Sellside Monetization, SEA' },
        { name: 'MARIA ABDULL', title: 'Senior Regional Director for INSEA at Remerge' },
        { name: 'CHANSUN', title: 'Director of Studio Management at Lion Studios' },
        { name: 'JAY HEO', title: 'Chief Business Officer at Playio' },
        { name: 'RICHARD JANG', title: 'CSO at 5minlab' },
        { name: 'JACKSON NGUYEN', title: 'Solutions Architect at MongoDB' }
      ]
    },
    {
      slug: 'gamegeek-conference-2025',
      title: 'GameGeek Conference 2025',
      date: 'March 15, 2025',
      location: 'Ho Chi Minh City',
      image: '/images/blogThumb1_1.jpg',
      thumb: '/images/blogThumb1_1.jpg',
      thumb2: '/images/blogThumb1_2.jpg',
      thumb3: '/images/blogThumb1_1.jpg',
      thumb4: '/images/blogThumb1_2.jpg',
      breadcrumbBg: '/images/newsdetail.jpg',
      sector: 'Gaming Industry',
      category: 'Conference',
      type: 'Event'
    },
    {
      slug: 'gaming-industry-summit-2025',
      title: 'Gaming Industry Summit 2025',
      date: 'April 20, 2025',
      location: 'Hanoi',
      image: '/images/blogThumb1_2.jpg',
      thumb: '/images/blogThumb1_2.jpg',
      thumb2: '/images/blogThumb1_1.jpg',
      thumb3: '/images/blogThumb1_2.jpg',
      thumb4: '/images/blogThumb1_1.jpg',
      breadcrumbBg: '/images/newsdetail.jpg',
      sector: 'Gaming Industry',
      category: 'Summit',
      type: 'Event'
    }
  ];
  
  // Merge Keystatic data with detailed content
  const mergedEvents = allEvents.map((keystaticEvent) => {
    const detailedEvent = eventsWithContent.find(e => e.slug === keystaticEvent.slug);
    
    // Use content from Keystatic if available, otherwise use hardcoded content
    const content = keystaticEvent.content && keystaticEvent.content.length > 0
      ? keystaticEvent.content 
      : (detailedEvent?.content || '');
    
    // Use speakersList from Keystatic if available, otherwise use hardcoded
    const speakersList = keystaticEvent.speakersList && keystaticEvent.speakersList.length > 0
      ? keystaticEvent.speakersList
      : (detailedEvent?.speakersList || []);
    
    // Build complete event object
    const event = {
      slug: keystaticEvent.slug,
      title: keystaticEvent.title || detailedEvent?.title || 'Event',
      date: keystaticEvent.date || detailedEvent?.date || '',
      time: keystaticEvent.time || detailedEvent?.time || '',
      location: keystaticEvent.location || detailedEvent?.location || '',
      speakers: keystaticEvent.speakers || detailedEvent?.speakers || 0,
      image: keystaticEvent.image || detailedEvent?.image || '/images/blogThumb1_1.jpg',
      thumb: keystaticEvent.image || detailedEvent?.thumb || keystaticEvent.image || '/images/blogThumb1_1.jpg',
      thumb2: detailedEvent?.thumb2 || '/images/blogThumb1_2.jpg',
      thumb3: detailedEvent?.thumb3 || '/images/blogThumb1_1.jpg',
      thumb4: detailedEvent?.thumb4 || '/images/blogThumb1_2.jpg',
      breadcrumbBg: keystaticEvent.image || detailedEvent?.breadcrumbBg || '/images/newsdetail.jpg',
      sector: keystaticEvent.sector || detailedEvent?.sector || 'Gaming Industry',
      category: keystaticEvent.category || detailedEvent?.category || 'Event',
      type: keystaticEvent.type || detailedEvent?.type || 'Event',
      description: keystaticEvent.description || detailedEvent?.description || '',
      content: content,
      speakersList: speakersList,
    };
    
    return event;
  });

  // Ensure we return all events, even if getAllEvents returned empty
  if (mergedEvents.length === 0 && allEvents.length === 0) {
    // Fallback: return events from eventsWithContent if no Keystatic data
    return eventsWithContent.map((event) => ({
      params: { slug: event.slug },
      props: event
    }));
  }

  return mergedEvents.map((event) => ({
    params: { slug: event.slug },
    props: event
  }));
}

const { slug } = Astro.params;

// Get event data from props, with fallback to direct file read
let eventData = Astro.props;

// If props are empty or missing title, try to load directly
if (!eventData || !eventData.title) {
  if (slug) {
    // Try to read directly from file first
    eventData = await readMdocFile(slug);
    if (eventData) {
      eventData.slug = slug;
      // Add default fields if missing
      eventData.thumb = eventData.image || eventData.thumb || '';
      eventData.thumb2 = eventData.thumb2 || '';
      eventData.thumb3 = eventData.thumb3 || '';
      eventData.thumb4 = eventData.thumb4 || '';
      eventData.breadcrumbBg = eventData.breadcrumbBg || eventData.image || '';
      eventData.sector = eventData.sector || 'Gaming Industry';
      eventData.category = eventData.category || 'Event';
      eventData.type = eventData.type || 'Event';
    } else {
      // Fallback to getAllEvents
      const allEvents = await getAllEvents();
      eventData = allEvents.find(e => e.slug === slug);
    }
  }
}

// If still no data, return 404
if (!eventData || !eventData.title) {
  return Astro.redirect('/program', 404);
}

// Ensure all required fields have defaults
const title = eventData.title || 'Event';
const date = eventData.date || '';
const time = eventData.time || '';
const location = eventData.location || '';
const speakers = eventData.speakers || 0;
const image = eventData.image || '/images/blogThumb1_1.jpg';
const thumb = eventData.thumb || eventData.image || '/images/blogThumb1_1.jpg';
const thumb2 = eventData.thumb2 || '';
const thumb3 = eventData.thumb3 || '';
const thumb4 = eventData.thumb4 || '';
const breadcrumbBg = eventData.breadcrumbBg || eventData.image || '/images/newsdetail.jpg';
const sector = eventData.sector || 'Gaming Industry';
const category = eventData.category || eventData.type || 'Event';
const type = eventData.type || 'Event';
const description = eventData.description || '';
const content = eventData.content || '';
const speakersList = eventData.speakersList || [];

// Get all events for pagination
const allEvents = await getAllEvents();
const sortedEvents = allEvents.sort((a, b) => {
  const dateA = new Date(a.date || 0).getTime();
  const dateB = new Date(b.date || 0).getTime();
  return dateA - dateB;
});

// Find current event index
const currentIndex = sortedEvents.findIndex(e => e.slug === slug);
const prevEvent = currentIndex > 0 ? sortedEvents[currentIndex - 1] : null;
const nextEvent = currentIndex < sortedEvents.length - 1 ? sortedEvents[currentIndex + 1] : null;

// Determine status based on date
const getEventStatus = () => {
  if (!date) return 'Up Coming';
  const eventDate = new Date(date);
  const today = new Date();
  today.setHours(0, 0, 0, 0);
  eventDate.setHours(0, 0, 0, 0);
  return eventDate >= today ? 'Up Coming' : 'Finished';
};

// Format date for display
const formatDate = (dateStr: string) => {
  if (!dateStr) return '';
  const date = new Date(dateStr);
  const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
  return `${date.getDate()} ${months[date.getMonth()]}, ${date.getFullYear()}`;
};

const eventStatus = getEventStatus();
const formattedDate = formatDate(date);
---

<Layout title={`${title} - GameGeek`}>
  <div id="smooth-content">
    <!-- Navbar Start -->
    <Navbar variant="white" />
    <!-- Navbar End -->

    <!-- Breadcrumb Section Start -->
    <div class="breadcrumb-area position-relative z-1">
      <img src="/renius/image/br-line-shape.png" alt="Shape" class="br-line-shape position-absolute top-0 start-0 w-100 h-100 z-n1">
      <img src="/renius/image/br-shape-1.png" alt="Shape" class="br-shape-one position-absolute z-n1 bounce">
      <img src="/renius/image/br-shape-2.png" alt="Shape" class="br-shape-two position-absolute bottom-0 z-n1 moveHorizontal">
      <div class="container-fluid px-xxl-5">
        <div class="row">
          <div class="col-md-10 offset-md-1 text-center">
            <h2 class="section-title style-one fw-black text-title">{title}</h2>
            <ul class="br-menu list-unstyled">
              <li><a href="/"><img src="/renius/image/home-icon.svg" alt="Icon">HOME</a></li>
              <li><a href="/program">PROGRAM</a></li>
              <li>{title}</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <!-- Breadcrumb Section End -->

    <div class="container ptb-120">
      <div class="row">
        <div class="col-12">
          <div class="project-desc position-relative z-1 pt-90">
            <div class="row">
              <div class="col-xl-10 offset-xl-1">
                <h1 class="section-title style-one text-title font-secondary fw-bold mb-30">{title}</h1>
                <ul class="single-project-metainfo d-flex flex-wrap justify-content-md-between list-unstyled mb-45">
                  <li>
                    <span class="fw-medium d-block">Status</span>
                    <span class="text-title fw-semibold d-block">{eventStatus}</span>
                  </li>
                  <li>
                    <span class="fw-medium d-block">Project Type</span>
                    <span class="text-title fw-semibold d-block">{category || type || 'Event'}</span>
                  </li>
                  <li>
                    <span class="fw-medium d-block">Location</span>
                    <span class="text-title fw-semibold d-block">{location || 'TBA'}</span>
                  </li>
                  <li>
                    <span class="fw-medium d-block">Commencement Date</span>
                    <span class="text-title fw-semibold d-block">
                      {formattedDate || date}
                      {time && ` • ${time}`}
                    </span>
                  </li>
                  <li>
                    <span class="fw-medium d-block">Speakers</span>
                    <span class="text-title fw-semibold d-block">
                      {speakers ? `${speakers} Speakers` : speakersList?.length ? `${speakersList.length} Speakers` : 'TBA'}
                    </span>
                  </li>
                </ul>
                <div class="service-desc">
                  {thumb && (
                    <div class="single-img round-10 mb-35">
                      <img src={thumb} alt={title} class="round-10">
                    </div>
                  )}
                  <div class="single-para">
                    {description && (
                      <>
                        <h6>Event Description</h6>
                        <p>{description}</p>
                      </>
                    )}
                    {content && (
                      <div class="event-content">
                        <Fragment set:html={markdownToHtml(content)}></Fragment>
                      </div>
                    )}
                  </div>
                  {speakersList && speakersList.length > 0 && (
                    <div class="single-para">
                      <h6 class="mb-3">Speakers</h6>
                      <ul class="feature-item-list style-two d-flex flex-wrap list-unstyled pe-xxl-5 me-xxl-5">
                        {speakersList.map((speaker) => (
                          <li class="position-relative text-title fw-medium">{speaker.name} - {speaker.title}</li>
                        ))}
                      </ul>
                    </div>
                  )}
                  {thumb2 && (
                    <div class="single-para">
                      <div class="row">
                        <div class="col-md-6 pe-xxl-0">
                          <div class="single-img round-10 mb-35">
                            <img src={thumb2} alt={title} class="round-10">
                          </div>
                        </div>
                        {thumb3 && (
                          <div class="col-md-6 ps-xxl-4">
                            <div class="project-highlight-box round-10 mb-35">
                              <h6 class="mb-3">Event Highlights</h6>
                              {description && (
                                <p>{description.substring(0, 200)}...</p>
                              )}
                            </div>
                          </div>
                        )}
                      </div>
                    </div>
                  )}
                  <div class="single-para">
                    <h6 class="mb-4">Frequently Asked Questions</h6>
                    <div class="accordion style-one mb-50" id="accordionExample_one">
                      <div class="accordion-item" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="true" aria-controls="collapseFour" role="button">
                        <div class="accordion-header" id="headingFour">
                          <div class="accordion-button">
                            <span class="accord-arrow">
                              <i class="ri-arrow-down-s-fill plus"></i>
                              <i class="ri-arrow-up-s-fill minus"></i>
                            </span>
                            What is the event about?
                          </div>
                        </div>
                        <div id="collapseFour" class="accordion-collapse collapse show" aria-labelledby="headingFour" data-bs-parent="#accordionExample_one">
                          <div class="accordion-body">
                            <p class="fs-xx-14">{description || 'This event brings together industry leaders and innovators to discuss the latest trends and opportunities in the gaming industry.'}</p>
                          </div>
                        </div>
                      </div>
                      <div class="accordion-item collapsed" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive" role="button">
                        <div class="accordion-header" id="headingFive">
                          <div class="accordion-button">
                            <span class="accord-arrow">
                              <i class="ri-arrow-down-s-fill plus"></i>
                              <i class="ri-arrow-up-s-fill minus"></i>
                            </span>
                            How can I register for this event?
                          </div>
                        </div>
                        <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#accordionExample_one">
                          <div class="accordion-body">
                            <p class="fs-xx-14">Registration details will be available soon. Please check back for updates or contact us for more information.</p>
                          </div>
                        </div>
                      </div>
                      <div class="accordion-item collapsed" data-bs-toggle="collapse" data-bs-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix" role="button">
                        <div class="accordion-header" id="headingSix">
                          <div class="accordion-button">
                            <span class="accord-arrow">
                              <i class="ri-arrow-down-s-fill plus"></i>
                              <i class="ri-arrow-up-s-fill minus"></i>
                            </span>
                            Who are the speakers?
                          </div>
                        </div>
                        <div id="collapseSix" class="accordion-collapse collapse" aria-labelledby="headingSix" data-bs-parent="#accordionExample_one">
                          <div class="accordion-body">
                            <p class="fs-xx-14">{speakersList && speakersList.length > 0 ? `We have ${speakersList.length} confirmed speakers including industry experts and thought leaders.` : 'Speaker information will be announced soon.'}</p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="project-pagination d-flex flex-wrap align-items-center justify-content-between mt-4">
                  {prevEvent ? (
                    <a class="prev-project text-para hover-text-primary transition position-relative w-50" href={`/program/${prevEvent.slug}`}>
                      <img src="/renius/image/left-arrow.svg" alt="Icon" class="position-relative me-3">Prev Event
                    </a>
                  ) : (
                    <div class="w-50"></div>
                  )}
                  {nextEvent ? (
                    <a class="next-project text-para hover-text-primary transition position-relative w-50 text-end" href={`/program/${nextEvent.slug}`}>
                      Next Event<img src="/renius/image/right-arrow-5.svg" alt="Icon" class="position-relative ms-3">
                    </a>
                  ) : (
                    <div class="w-50"></div>
                  )}
                </div>
              </div>
            </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer Section Start -->
    <Footer />
    <!-- Footer Section End -->
  </div>
</Layout>

<style>
  .project-details-section {
    padding: 120px 0;
  }

  .project-details-wapper .main-thumb {
    margin-bottom: 40px;
  }

  .project-details-wapper .main-thumb img {
    width: 100%;
    height: auto;
    border-radius: 12px;
  }

  .fancy-box.style4 {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 20px;
    background: #f8f9fa;
    border-radius: 8px;
    margin-bottom: 20px;
  }

  .fancy-box.style4 .content h5 {
    font-size: 14px;
    font-weight: 600;
    color: #666;
    margin-bottom: 8px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .fancy-box.style4 .content .text {
    font-size: 16px;
    font-weight: 600;
    color: #333;
    margin: 0;
  }

  .fancy-box.style4 .icon-box.style2 {
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #fff;
    border-radius: 8px;
    flex-shrink: 0;
  }

  .fancy-box.style4 .icon-box.style2 img {
    width: 24px;
    height: 24px;
  }

  .single-desc,
  .single-desc2 {
    margin-top: 50px;
    margin-bottom: 50px;
  }

  .single-desc-title {
    font-size: 2rem;
    font-weight: 700;
    color: #333;
    margin-bottom: 25px;
  }

  .single-desc .text1,
  .single-desc .text2,
  .single-desc2 .text1,
  .single-desc2 .text2 {
    font-size: 16px;
    line-height: 1.8;
    color: #666;
    margin-bottom: 20px;
  }

  .testimonial-wrap {
    margin: 50px 0;
  }

  .testimonial-card {
    background: #f8f9fa;
    padding: 40px;
    border-radius: 12px;
    text-align: center;
  }

  .testimonial-card .icon {
    margin-bottom: 20px;
  }

  .testimonial-card .text3 {
    font-size: 20px;
    font-style: italic;
    color: #333;
    line-height: 1.6;
    margin-bottom: 20px;
  }

  .testimonial-author {
    font-size: 16px;
    font-weight: 600;
    color: #ff6b35;
  }

  .slider-area {
    margin-top: 50px;
  }

  .project-thumb {
    border-radius: 12px;
    overflow: hidden;
  }

  .project-thumb img {
    width: 100%;
    height: auto;
    display: block;
  }

  @media (max-width: 767px) {
    .page-heading h1 {
      font-size: 2rem;
    }

    .project-details-section {
      padding: 60px 0;
    }

    .fancy-box.style4 {
      flex-direction: column;
      text-align: center;
    }

    .fancy-box.style4 .icon-box.style2 {
      margin-top: 15px;
    }
  }
</style>

